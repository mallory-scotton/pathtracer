///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "Plugins/SDL2/SDL2Plugin.hpp"
#include "Core/Context.hpp"
#include "Errors/Exception.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace Ray
///////////////////////////////////////////////////////////////////////////////
namespace Ray
{

///////////////////////////////////////////////////////////////////////////////
SDL2Plugin::SDL2Plugin(void)
{
    Context& ctx = Context::GetInstance();

    m_window = std::make_unique<SDL2Window>(
        ctx.scene->renderOptions.windowResolution
    );
}

///////////////////////////////////////////////////////////////////////////////
SDL2Plugin::~SDL2Plugin()
{}

///////////////////////////////////////////////////////////////////////////////
void SDL2Plugin::Update(float deltaSeconds)
{
    RAY_UNUSED(deltaSeconds);
    m_window->Update();
}

///////////////////////////////////////////////////////////////////////////////
void SDL2Plugin::PreRender(void)
{
    m_window->Clear();
}

///////////////////////////////////////////////////////////////////////////////
void SDL2Plugin::Render(void)
{}

///////////////////////////////////////////////////////////////////////////////
void SDL2Plugin::PostRender(void)
{
    m_window->SwapWindow();
}

} // namespace Ray
